{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///D:/code/BudgetBox/frontend/lib/store.ts"],"sourcesContent":["import { create } from 'zustand'\r\nimport { persist, createJSONStorage } from 'zustand/middleware'\r\nimport localForage from 'localforage'\r\n\r\nexport type Budget = {\r\n  id?: string\r\n  month?: string // in YYYY-MM format'\r\n  income: number\r\n  bills: number\r\n  food: number\r\n  transport: number\r\n  subscriptions: number\r\n  misc: number\r\n  lastSavedAt?: string\r\n  syncedAt?: string | null\r\n  syncStatus?: 'local-only' | 'sync-pending' | 'synced'\r\n}\r\n\r\ntype State = {\r\n  budget: Budget\r\n  setField: <K extends keyof Budget>(key: K, value: Budget[K]) => void\r\n  setBudget: (b: Partial<Budget>) => void\r\n  replaceBudget: (b: Budget) => void\r\n  markSynced: (timestamp: string) => void\r\n}\r\n\r\nconst defaultBudget: Budget = {\r\n  income: 0,\r\n  bills: 0,\r\n  food: 0,\r\n  transport: 0,\r\n  subscriptions: 0,\r\n  misc: 0,\r\n  syncStatus: 'local-only'\r\n}\r\n\r\nexport const useBudgetStore = create<State>()(\r\n  persist(\r\n    (set, get) => ({\r\n      budget: defaultBudget,\r\n      setField: (key, value) => {\r\n        const newBudget = { ...get().budget, [key]: value, lastSavedAt: new Date().toISOString(), syncStatus: 'sync-pending' as Budget['syncStatus'] }\r\n        set({ budget: newBudget })\r\n      },\r\n      setBudget: (payload) => {\r\n        const newBudget = { ...get().budget, ...payload, lastSavedAt: new Date().toISOString(), syncStatus: 'sync-pending' as Budget['syncStatus'] }\r\n        set({ budget: newBudget })\r\n      },\r\n      replaceBudget: (b) => set({ budget: b }),\r\n      markSynced: (timestamp) => set({ budget: { ...get().budget, syncedAt: timestamp, syncStatus: 'synced' } })\r\n    }),\r\n    {\r\n      name: 'budgetbox-storage',\r\n      version: 1,\r\n      storage: createJSONStorage(() => localForage)\r\n    }\r\n  )\r\n)\r\n"],"names":[],"mappings":";;;;AAAA;AACA;AACA;;;;AAwBA,MAAM,gBAAwB;IAC5B,QAAQ;IACR,OAAO;IACP,MAAM;IACN,WAAW;IACX,eAAe;IACf,MAAM;IACN,YAAY;AACd;AAEO,MAAM,iBAAiB,IAAA,qJAAM,IAClC,IAAA,2JAAO,EACL,CAAC,KAAK,MAAQ,CAAC;QACb,QAAQ;QACR,UAAU,CAAC,KAAK;YACd,MAAM,YAAY;gBAAE,GAAG,MAAM,MAAM;gBAAE,CAAC,IAAI,EAAE;gBAAO,aAAa,IAAI,OAAO,WAAW;gBAAI,YAAY;YAAuC;YAC7I,IAAI;gBAAE,QAAQ;YAAU;QAC1B;QACA,WAAW,CAAC;YACV,MAAM,YAAY;gBAAE,GAAG,MAAM,MAAM;gBAAE,GAAG,OAAO;gBAAE,aAAa,IAAI,OAAO,WAAW;gBAAI,YAAY;YAAuC;YAC3I,IAAI;gBAAE,QAAQ;YAAU;QAC1B;QACA,eAAe,CAAC,IAAM,IAAI;gBAAE,QAAQ;YAAE;QACtC,YAAY,CAAC,YAAc,IAAI;gBAAE,QAAQ;oBAAE,GAAG,MAAM,MAAM;oBAAE,UAAU;oBAAW,YAAY;gBAAS;YAAE;IAC1G,CAAC,GACD;IACE,MAAM;IACN,SAAS;IACT,SAAS,IAAA,qKAAiB,EAAC,IAAM,gKAAW;AAC9C"}},
    {"offset": {"line": 69, "column": 0}, "map": {"version":3,"sources":["file:///D:/code/BudgetBox/frontend/lib/syncClient.ts"],"sourcesContent":["import axios from 'axios'\r\nimport type { Budget } from './store'\r\n\r\nconst API_BASE = process.env.NEXT_PUBLIC_API_URL || 'http://localhost:4000'\r\n\r\nexport async function postSync(budget: Budget) {\r\n  const res = await axios.post(`${API_BASE}/budget/sync`, budget, { headers: { 'content-type': 'application/json' } })\r\n  return res.data // { success: true, timestamp: 'ISO' }\r\n}\r\n\r\nexport async function getLatest() {\r\n  const res = await axios.get(`${API_BASE}/budget/latest`)\r\n  return res.data // { budget: {...} }\r\n}\r\n"],"names":[],"mappings":";;;;;;AAGiB;AAHjB;;AAGA,MAAM,WAAW,6DAAmC;AAE7C,eAAe,SAAS,MAAc;IAC3C,MAAM,MAAM,MAAM,mJAAK,CAAC,IAAI,CAAC,GAAG,SAAS,YAAY,CAAC,EAAE,QAAQ;QAAE,SAAS;YAAE,gBAAgB;QAAmB;IAAE;IAClH,OAAO,IAAI,IAAI,CAAC,sCAAsC;;AACxD;AAEO,eAAe;IACpB,MAAM,MAAM,MAAM,mJAAK,CAAC,GAAG,CAAC,GAAG,SAAS,cAAc,CAAC;IACvD,OAAO,IAAI,IAAI,CAAC,oBAAoB;;AACtC"}},
    {"offset": {"line": 100, "column": 0}, "map": {"version":3,"sources":["file:///D:/code/BudgetBox/frontend/components/OfflineIndicator.tsx"],"sourcesContent":["'use client'\r\nimport React, { useEffect, useState, useRef } from 'react'\r\nimport { useBudgetStore } from '../lib/store'\r\nimport { postSync, getLatest } from '../lib/syncClient'\r\n\r\nconst API_BASE = process.env.NEXT_PUBLIC_API_URL || 'http://localhost:4000'\r\n\r\n// small helper to fetch with timeout\r\nasync function fetchWithTimeout(url: string, opts: RequestInit = {}, timeout = 3000) {\r\n  const controller = new AbortController()\r\n  const id = setTimeout(() => controller.abort(), timeout)\r\n  try {\r\n    const res = await fetch(url, { ...opts, signal: controller.signal })\r\n    clearTimeout(id)\r\n    return res\r\n  } catch (err) {\r\n    clearTimeout(id)\r\n    throw err\r\n  }\r\n}\r\n\r\nexport default function OfflineIndicator() {\r\n  const [online, setOnline] = useState<boolean>(typeof navigator !== 'undefined' ? navigator.onLine : true)\r\n  const [serverUp, setServerUp] = useState<boolean | null>(null) // null = unknown\r\n  const [checking, setChecking] = useState(false)\r\n  const budget = useBudgetStore(s => s.budget)\r\n  const markSynced = useBudgetStore(s => s.markSynced)\r\n  const replaceBudget = useBudgetStore(s => s.replaceBudget)\r\n\r\n  const intervalRef = useRef<number | null>(null)\r\n\r\n  useEffect(() => {\r\n    const onOnline = () => setOnline(true)\r\n    const onOffline = () => setOnline(false)\r\n    window.addEventListener('online', onOnline)\r\n    window.addEventListener('offline', onOffline)\r\n    // initial server probe\r\n    probeServer()\r\n    // poll every 10s\r\n    intervalRef.current = window.setInterval(probeServer, 10000)\r\n    return () => {\r\n      window.removeEventListener('online', onOnline)\r\n      window.removeEventListener('offline', onOffline)\r\n      if (intervalRef.current) window.clearInterval(intervalRef.current)\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [])\r\n\r\n  async function probeServer() {\r\n    // if device offline, skip probing\r\n    if (!navigator.onLine) {\r\n      setServerUp(false)\r\n      return\r\n    }\r\n    setChecking(true)\r\n    try {\r\n      const res = await fetchWithTimeout(`${API_BASE}/health`, {}, 3000)\r\n      if (!res.ok) {\r\n        setServerUp(false)\r\n      } else {\r\n        const j = await res.json().catch(() => null)\r\n        // server responded OK\r\n        setServerUp(true)\r\n      }\r\n    } catch (err) {\r\n      setServerUp(false)\r\n    } finally {\r\n      setChecking(false)\r\n    }\r\n  }\r\n\r\n  const doSync = async () => {\r\n    if (!serverUp) {\r\n      alert('Server is not reachable — cannot sync.')\r\n      return\r\n    }\r\n    try {\r\n      const res = await postSync(budget)\r\n      if (res && res.timestamp) {\r\n        markSynced(res.timestamp)\r\n        alert('Synced ✅ at ' + res.timestamp)\r\n      } else {\r\n        alert('Sync returned unexpected response')\r\n      }\r\n    } catch (err) {\r\n      console.error(err)\r\n      alert('Sync failed — still local-only.')\r\n      // mark server as down because sync failed\r\n      setServerUp(false)\r\n    }\r\n  }\r\n\r\n  const fetchLatestFromServer = async () => {\r\n    if (!serverUp) {\r\n      alert('Server is not reachable — cannot get latest.')\r\n      return\r\n    }\r\n    try {\r\n      const r = await getLatest()\r\n      if (r && r.budget) {\r\n        replaceBudget(r.budget)\r\n        alert('Replaced with latest from server')\r\n      } else {\r\n        alert('No server copy found')\r\n      }\r\n    } catch (err) {\r\n      console.error(err)\r\n      alert('Failed to fetch latest')\r\n      setServerUp(false)\r\n    }\r\n  }\r\n\r\n  // Combined status label\r\n  const statusLabel = (() => {\r\n    if (!online) return 'Device: offline'\r\n    if (serverUp === null) return checking ? 'Checking server…' : 'Server: unknown'\r\n    return serverUp ? 'Status: synced' : 'Status: server-unreachable'\r\n  })()\r\n\r\n  return (\r\n  <div className=\"inline-flex flex-wrap items-center gap-3 bg-white/80 rounded-full border border-slate-200 px-4 py-2 shadow-sm\">\r\n    <div className=\"flex items-center gap-2\">\r\n      <span\r\n        className={`h-2.5 w-2.5 rounded-full ${\r\n          online ? \"bg-emerald-500\" : \"bg-red-500\"\r\n        }`}\r\n      />\r\n      <span className=\"text-sm text-slate-700\">\r\n        {online ? \"Online\" : \"Offline\"}\r\n      </span>\r\n    </div>\r\n\r\n    <span\r\n      className={`text-xs px-2 py-1 rounded-full border ${\r\n        budget.syncStatus === \"synced\"\r\n          ? \"border-emerald-500 text-emerald-600 bg-emerald-50\"\r\n          : budget.syncStatus === \"sync-pending\"\r\n          ? \"border-amber-500 text-amber-600 bg-amber-50\"\r\n          : \"border-slate-300 text-slate-600 bg-slate-50\"\r\n      }`}\r\n    >\r\n      {budget.syncStatus ? `Status: ${budget.syncStatus}` : \"Status: local-only\"}\r\n    </span>\r\n\r\n    <button\r\n      onClick={doSync}\r\n      className=\"rounded-full px-3 py-1.5 text-sm font-medium bg-blue-600 text-white hover:bg-blue-700 transition-colors disabled:opacity-60\"\r\n    >\r\n      Sync\r\n    </button>\r\n\r\n    <button\r\n      onClick={fetchLatestFromServer}\r\n      className=\"rounded-full px-3 py-1.5 text-sm font-medium border border-slate-300 text-slate-700 hover:bg-slate-50 transition-colors\"\r\n    >\r\n      Get Latest\r\n    </button>\r\n  </div>\r\n);\r\n\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 316, "column": 0}, "map": {"version":3,"sources":["file:///D:/code/BudgetBox/frontend/components/BudgetForm.tsx"],"sourcesContent":["'use client'\r\nimport React from 'react'\r\nimport { useBudgetStore } from '@/lib/store'\r\n\r\n\r\nexport default function BudgetForm() {\r\n  const budget = useBudgetStore((s: { budget: any }) => s.budget)\r\n  const setField = useBudgetStore((s: { setField: any }) => s.setField)\r\n\r\n  const fields: [keyof typeof budget, string][] = [\r\n    ['income', 'Income'],\r\n    ['bills', 'Monthly Bills'],\r\n    ['food', 'Food'],\r\n    ['transport', 'Transport'],\r\n    ['subscriptions', 'Subscriptions'],\r\n    ['misc', 'Miscellaneous'],\r\n  ]\r\n\r\n  return (\r\n  <form className=\"space-y-4 p-6\">\r\n    <h2 className=\"text-xl font-semibold text-slate-900 mb-2\">\r\n      Monthly Budget\r\n    </h2>\r\n\r\n    <div className=\"space-y-3\">\r\n      {fields.map(([key, label]) => (\r\n        <div\r\n          key={String(key)}\r\n          className=\"flex items-center justify-between gap-3\"\r\n        >\r\n          <label className=\"text-sm text-slate-700 w-32\">{label}</label>\r\n          <input\r\n            type=\"number\"\r\n            value={(budget[key] ?? 0) as any}\r\n            onChange={(e) => setField(key as any, Number(e.target.value || 0))}\r\n            className=\"flex-1 rounded-md border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\r\n            min={0}\r\n          />\r\n        </div>\r\n      ))}\r\n    </div>\r\n\r\n    <div className=\"pt-2 text-xs text-slate-500\">\r\n      Last saved:{\" \"}\r\n      {budget.lastSavedAt\r\n        ? new Date(budget.lastSavedAt).toLocaleString()\r\n        : \"—\"}\r\n    </div>\r\n  </form>\r\n);\r\n\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;;;AAFA;;AAKe,SAAS;;IACtB,MAAM,SAAS,IAAA,0JAAc;6CAAC,CAAC,IAAuB,EAAE,MAAM;;IAC9D,MAAM,WAAW,IAAA,0JAAc;+CAAC,CAAC,IAAyB,EAAE,QAAQ;;IAEpE,MAAM,SAA0C;QAC9C;YAAC;YAAU;SAAS;QACpB;YAAC;YAAS;SAAgB;QAC1B;YAAC;YAAQ;SAAO;QAChB;YAAC;YAAa;SAAY;QAC1B;YAAC;YAAiB;SAAgB;QAClC;YAAC;YAAQ;SAAgB;KAC1B;IAED,qBACA,sNAAC;QAAK,WAAU;;0BACd,sNAAC;gBAAG,WAAU;0BAA4C;;;;;;0BAI1D,sNAAC;gBAAI,WAAU;0BACZ,OAAO,GAAG,CAAC,CAAC,CAAC,KAAK,MAAM,iBACvB,sNAAC;wBAEC,WAAU;;0CAEV,sNAAC;gCAAM,WAAU;0CAA+B;;;;;;0CAChD,sNAAC;gCACC,MAAK;gCACL,OAAQ,MAAM,CAAC,IAAI,IAAI;gCACvB,UAAU,CAAC,IAAM,SAAS,KAAY,OAAO,EAAE,MAAM,CAAC,KAAK,IAAI;gCAC/D,WAAU;gCACV,KAAK;;;;;;;uBATF,OAAO;;;;;;;;;;0BAelB,sNAAC;gBAAI,WAAU;;oBAA8B;oBAC/B;oBACX,OAAO,WAAW,GACf,IAAI,KAAK,OAAO,WAAW,EAAE,cAAc,KAC3C;;;;;;;;;;;;;AAKV;GA9CwB;;QACP,0JAAc;QACZ,0JAAc;;;KAFT"}},
    {"offset": {"line": 441, "column": 0}, "map": {"version":3,"sources":["file:///D:/code/BudgetBox/frontend/components/Dashboard.tsx"],"sourcesContent":["// frontend/components/Dashboard.tsx\r\n'use client'\r\nimport React from 'react'\r\nimport { useBudgetStore } from '../lib/store'\r\nimport { Pie } from 'react-chartjs-2'\r\nimport { Chart as ChartJS, ArcElement, Tooltip, Legend } from 'chart.js'\r\nChartJS.register(ArcElement, Tooltip, Legend)\r\n\r\nexport default function Dashboard() {\r\n  const b = useBudgetStore(s => s.budget)\r\n  const totalExpenses = (b.bills + b.food + b.transport + b.subscriptions + b.misc) || 0\r\n  const income = b.income || 0\r\n  const burnRate = income > 0 ? totalExpenses / income : 0\r\n  const savings = income - totalExpenses\r\n\r\n  const monthEndPrediction = totalExpenses * 2.5\r\n\r\n  const suggestions: string[] = []\r\n  if (income > 0) {\r\n    if (b.food > 0.4 * income) suggestions.push('Reduce food spend next month.')\r\n    if (b.subscriptions > 0.3 * income) suggestions.push('Consider cancelling unused apps.')\r\n    if (savings < 0) suggestions.push('Your expenses exceed income.')\r\n  }\r\n\r\n  const pieData = {\r\n  labels: [\"Bills\", \"Food\", \"Transport\", \"Subscriptions\", \"Misc\"],\r\n  datasets: [\r\n    {\r\n      data: [b.bills, b.food, b.transport, b.subscriptions, b.misc],\r\n      backgroundColor: [\r\n        \"#3b82f6\", // Bills - blue\r\n        \"#22c55e\", // Food - green\r\n        \"#f97316\", // Transport - orange\r\n        \"#a855f7\", // Subscriptions - purple\r\n        \"#eab308\", // Misc - yellow\r\n      ],\r\n      borderColor: \"#ffffff\",\r\n      borderWidth: 2,\r\n      hoverOffset: 8,\r\n    },\r\n  ],\r\n};\r\n\r\nconst pieOptions = {\r\n  plugins: {\r\n    legend: {\r\n      position: \"right\" as const,\r\n      labels: {\r\n        usePointStyle: true,\r\n        pointStyle: \"circle\",\r\n        boxWidth: 8,\r\n        font: {\r\n          size: 12,\r\n        },\r\n      },\r\n    },\r\n    tooltip: {\r\n      callbacks: {\r\n        label: function (context: any) {\r\n          const label = context.label || \"\";\r\n          const value = context.parsed;\r\n          const total =\r\n            b.bills +\r\n            b.food +\r\n            b.transport +\r\n            b.subscriptions +\r\n            b.misc ||\r\n            1;\r\n          const pct = ((value / total) * 100).toFixed(1);\r\n          return `${label}: ₹${value} (${pct}%)`;\r\n        },\r\n      },\r\n    },\r\n  },\r\n};\r\n\r\n  return (\r\n  <div className=\"p-6 space-y-4\">\r\n    <h2 className=\"text-xl font-semibold text-slate-900\">Dashboard</h2>\r\n\r\n    <div className=\"grid gap-4 md:grid-cols-3\">\r\n      {/* metric cards */}\r\n      <div className=\"border border-b-black rounded-xl p-4\">\r\n        <p className=\"text-xs font-medium text-slate-500\">Burn Rate</p>\r\n        <p className=\"mt-2 text-2xl font-semibold text-slate-900\">\r\n          {(burnRate * 100).toFixed(1)}%\r\n        </p>\r\n      </div>\r\n      <div className=\"border  border-b-black rounded-xl p-4\">\r\n        <p className=\"text-xs font-medium text-slate-500\">Savings Potential</p>\r\n        <p className=\"mt-2 text-2xl font-semibold text-emerald-700\">\r\n          ₹ {savings.toFixed(2)}\r\n        </p>\r\n      </div>\r\n      <div className=\"border  border-b-black rounded-xl p-4\">\r\n        <p className=\"text-xs font-medium text-slate-500\">\r\n          Month-End Prediction\r\n        </p>\r\n        <p className=\"mt-2 text-2xl font-semibold text-slate-900\">\r\n          ₹ {monthEndPrediction.toFixed(2)}\r\n        </p>\r\n      </div>\r\n    </div>\r\n\r\n    <div className=\"grid gap-4 md:grid-cols-2\">\r\n      <div className=\"border  border-b-black rounded-xl p-4 flex items-center justify-center\">\r\n        <Pie data={pieData} options={pieOptions} />\r\n      </div>\r\n      <div className=\"border  border-b-black rounded-xl p-4\">\r\n        <p className=\"text-xs font-medium text-slate-500 mb-2\">\r\n          Rule-based Warnings\r\n        </p>\r\n        <ul className=\"text-sm text-slate-700 list-disc pl-4 space-y-1\">\r\n          {suggestions.length ? (\r\n            suggestions.map((s, i) => <li key={i}>{s}</li>)\r\n          ) : (\r\n            <li>No anomalies detected</li>\r\n          )}\r\n        </ul>\r\n      </div>\r\n    </div>\r\n  </div>\r\n);\r\n\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 716, "column": 0}, "map": {"version":3,"sources":["file:///D:/code/BudgetBox/frontend/app/dashboard/page.tsx"],"sourcesContent":["// app/dashboard/page.tsx\r\n\"use client\";\r\n\r\nimport OfflineIndicator from \"../../components/OfflineIndicator\";\r\nimport BudgetForm from \"../../components/BudgetForm\";\r\nimport Dashboard from \"../../components/Dashboard\";\r\n\r\nexport default function DashboardPage() {\r\n  return (\r\n    <main className=\"min-h-screen px-4 py-6\">\r\n      <div className=\"max-w-6xl mx-auto space-y-6\">\r\n        {/* Top bar */}\r\n        <header className=\"flex flex-col gap-3 md:flex-row md:items-center md:justify-between\">\r\n          <div>\r\n            <h1 className=\"text-2xl font-semibold text-slate-900\">\r\n              BudgetBox Dashboard\r\n            </h1>\r\n            <p className=\"text-sm text-slate-500\">\r\n              Track your monthly budget offline-first, sync when you&apos;re ready.\r\n            </p>\r\n          </div>\r\n          <OfflineIndicator />\r\n        </header>\r\n\r\n        {/* Content */}\r\n        <section className=\"grid gap-6 md:grid-cols-2\">\r\n          <div className=\"bg-white rounded-2xl shadow-sm border border-slate-200\">\r\n            <BudgetForm />\r\n          </div>\r\n\r\n          <div className=\"bg-white rounded-2xl shadow-sm border border-slate-200\">\r\n            <Dashboard />\r\n          </div>\r\n        </section>\r\n      </div>\r\n    </main>\r\n  );\r\n}\r\n"],"names":[],"mappings":"AAAA,yBAAyB;;;;;;AAGzB;AACA;AACA;AAJA;;;;;AAMe,SAAS;IACtB,qBACE,sNAAC;QAAK,WAAU;kBACd,cAAA,sNAAC;YAAI,WAAU;;8BAEb,sNAAC;oBAAO,WAAU;;sCAChB,sNAAC;;8CACC,sNAAC;oCAAG,WAAU;8CAAwC;;;;;;8CAGtD,sNAAC;oCAAE,WAAU;8CAAyB;;;;;;;;;;;;sCAIxC,sNAAC,sKAAgB;;;;;;;;;;;8BAInB,sNAAC;oBAAQ,WAAU;;sCACjB,sNAAC;4BAAI,WAAU;sCACb,cAAA,sNAAC,gKAAU;;;;;;;;;;sCAGb,sNAAC;4BAAI,WAAU;sCACb,cAAA,sNAAC,+JAAS;;;;;;;;;;;;;;;;;;;;;;;;;;;AAMtB;KA9BwB"}}]
}