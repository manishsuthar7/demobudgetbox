{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///D:/code/BudgetBox/frontend/app/dashboard/page.tsx"],"sourcesContent":["// app/dashboard/page.tsx\r\n\"use client\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport Link from \"next/link\";\r\n\r\ntype Budget = {\r\n  income: number;\r\n  bills: number;\r\n  food: number;\r\n  transport: number;\r\n  subscriptions: number;\r\n  misc: number;\r\n};\r\n\r\nconst DEFAULT: Budget = {\r\n  income: 30000,\r\n  bills: 10000,\r\n  food: 8000,\r\n  transport: 2000,\r\n  subscriptions: 1000,\r\n  misc: 2000,\r\n};\r\n\r\nfunction sumExpenses(b: Budget) {\r\n  return b.bills + b.food + b.transport + b.subscriptions + b.misc;\r\n}\r\n\r\nexport default function DashboardPage() {\r\n  const [budget, setBudget] = useState<Budget>(() => {\r\n    try {\r\n      const raw = localStorage.getItem(\"budgetbox:latest\");\r\n      return raw ? JSON.parse(raw) : DEFAULT;\r\n    } catch {\r\n      return DEFAULT;\r\n    }\r\n  });\r\n\r\n  // auto-save on every change\r\n  useEffect(() => {\r\n    localStorage.setItem(\"budgetbox:latest\", JSON.stringify(budget));\r\n  }, [budget]);\r\n\r\n  const total = sumExpenses(budget);\r\n  const burnRate = budget.income ? +(total / budget.income).toFixed(2) : 0;\r\n  const savings = +(budget.income - total).toFixed(2);\r\n\r\n  function update<K extends keyof Budget>(k: K, v: string) {\r\n    const num = Number(v || 0);\r\n    setBudget((s) => ({ ...s, [k]: Number.isNaN(num) ? 0 : num }));\r\n  }\r\n\r\n  return (\r\n    <main style={{ padding: 24 }}>\r\n      <header style={{ display: \"flex\", gap: 12, alignItems: \"center\" }}>\r\n        <h1>BudgetBox — Dashboard</h1>\r\n        <nav>\r\n          <Link href=\"/\">Home</Link>\r\n        </nav>\r\n      </header>\r\n\r\n      <section style={{ marginTop: 20, display: \"grid\", gap: 12, maxWidth: 800 }}>\r\n        <div style={{ padding: 16, border: \"1px solid #ddd\", borderRadius: 8 }}>\r\n          <h2>Monthly Budget</h2>\r\n          <div style={{ display: \"grid\", gap: 8 }}>\r\n            {(\r\n              Object.keys(budget) as (keyof Budget)[]\r\n            ).map((k) => (\r\n              <label key={k} style={{ display: \"flex\", justifyContent: \"space-between\" }}>\r\n                <span style={{ textTransform: \"capitalize\" }}>{k}</span>\r\n                <input\r\n                  value={(budget[k] ?? 0).toString()}\r\n                  onChange={(e) => update(k, e.target.value)}\r\n                  inputMode=\"numeric\"\r\n                  style={{ width: 140 }}\r\n                />\r\n              </label>\r\n            ))}\r\n          </div>\r\n          <p style={{ marginTop: 8, fontSize: 12, color: \"#666\" }}>\r\n            Auto-saves to localStorage. Works offline.\r\n          </p>\r\n        </div>\r\n\r\n        <div style={{ padding: 16, border: \"1px solid #ddd\", borderRadius: 8 }}>\r\n          <h2>Analytics</h2>\r\n          <div>Income: ₹{budget.income}</div>\r\n          <div>Total expenses: ₹{total}</div>\r\n          <div>Burn rate: {Math.round(burnRate * 100)}%</div>\r\n          <div>Savings potential: ₹{savings}</div>\r\n          {budget.subscriptions > 0.3 * budget.income && (\r\n            <div style={{ color: \"orange\", marginTop: 8 }}>\r\n              ⚠️ Subscriptions are &gt; 30% of income\r\n            </div>\r\n          )}\r\n        </div>\r\n      </section>\r\n    </main>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}}]
}